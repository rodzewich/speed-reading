<html>
<head>
    <meta charSet="utf-8">
    <style>
        #text {
            width: 600px;
            position: absolute;
            left: 50%;
            top: 0;
            transform: translate(-50%, 0);
        }
        h3 {
            font-size: 20px;
        }
        td, th {
            padding: 10px;
            font-size: 20px;
            border: 1px solid black;
            text-align: left;
        }
        table {
            padding: 0;
            width: 100%;
            border-spacing: 0;
            border: 1px solid black;
        }
    </style>
</head>
<body>
<script>
    const names = {
        'clock': 'Часы',
        'colors': 'Цвета',
        'earthquake': 'Землетрясение',
        'lode-runner': 'Золотоискатель',
        'schulte-table': 'Таблицы Шульте'
    };
    const keys = Object.keys(localStorage);
    const result = {};
    for (const key of keys) {
        const [name, date] = key.split('_');
        if (name && date) {
            if (!result[date]) {
                result[date] = {};
            }
            result[date][name] = localStorage.getItem(key);
        }
    }
    document.write(`<div id="text">`);
    for (const date of Object.keys(result).sort().reverse()) {
        let total = 0;
        document.write(`<h3>${date}</h3>`);
        document.write(`<table>`);
        document.write(`<tr>`);
        document.write(`<th>Упражнение</th>`);
        document.write(`<th>Время</th>`);
        document.write(`</tr>`);
        for (const name of Object.keys(result[date]).sort()) {
            const value = parseInt(result[date][name], 10);
            document.write(`<tr>`);
            document.write(`<td>${names[name] || name}</td>`);
            document.write(`<td>${String((value / 60 / 60 / 1000) % 1).padStart(2, '0')}:${String(Math.round(value / 60 / 1000) % 60).padStart(2, '0')}:${String(Math.round(value / 1000) % 60).padStart(2, '0')}</td>`);
            document.write(`</tr>`);
            total += value;
        }
        document.write(`<tr>`);
        document.write(`<th>Итого</th>`);
        document.write(`<th>${String((total / 60 / 60 / 1000) % 1).padStart(2, '0')}:${String(Math.round(total / 60 / 1000) % 60).padStart(2, '0')}:${String(Math.round(total / 1000) % 60).padStart(2, '0')}</th>`);
        document.write(`</tr>`);
        document.write(`</table>`);
    }
    document.write(`</div>`);
</script>
</body>
</html>